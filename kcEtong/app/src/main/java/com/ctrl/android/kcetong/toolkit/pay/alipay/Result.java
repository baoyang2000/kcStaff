package com.ctrl.android.kcetong.toolkit.pay.alipay;public class Result {	public String resultStatus;	public String result;	public String memo;	public Result(String rawResult) {		try {			String[] resultParams = rawResult.split(";");			for (String resultParam : resultParams) {				if (resultParam.startsWith("resultStatus=")) {					resultStatus = gatValue(resultParam, "resultStatus");				}				if (resultParam.startsWith("result=")) {					result = gatValue(resultParam, "result");				}				if (resultParam.startsWith("memo=")) {					memo = gatValue(resultParam, "memo");				}			}		} catch (Exception e) {			e.printStackTrace();		}	}	@Override	public String toString() {		return "resultStatus={" + resultStatus + "};memo={" + memo				+ "};result={" + result + "}";	}	private String gatValue(String content, String key) {		String prefix = key + "={";		return content.substring(content.indexOf(prefix) + prefix.length(),				content.lastIndexOf("}"));	}	public String parseResult(String rawResult, String key) {		try {			String[] resultParams = rawResult.split("&");			for (String resultParam : resultParams) {				if (resultParam.startsWith(key + "=")) {					return resultParam.substring(resultParam.indexOf("=") + 1,							resultParam.length()).replace("\"", "");				}			}		} catch (Exception e) {			e.printStackTrace();		}		return "";	}	/**	 * @param rawResult	 *            解析的result串结果例如	 *            （partner="2088101568358171"&seller_id=	 *            "xxx@alipay.com"	 *            &out_trade_no="0819145412-6177"&subject="测试"&body	 *            ="测试测试"&total_fee	 *            ="0.01"&notify_url="http://notify.msp.hk/notify.htm"	 *            &service="mobile.securitypay.pay"	 *            &payment_type="1"&_input_charset	 *            ="utf-8"&it_b_pay="30m"&success="true"&sign_type="RSA"&sign="..."	 *            ）	 * @return 外部订单号	 */	public String parseOutTradeNo(String rawResult) {		return parseResult(rawResult, "out_trade_no");	}		/**	 * @param rawResult	 * @return 总支付金额	 */	public String parseTotalFee(String rawResult) {		return parseResult(rawResult, "total_fee");	}}